{"version":3,"sources":["px-vis-demos-dynamic-add.es6.js"],"names":["Polymer","is","behaviors","PxVisBehaviorDemo","chartGenerator","timings","properties","chartTypes","type","Array","value","readOnly","selectedChartType","String","dataSets","Object","chartPool","_currentDataSets","_generateListener","Function","_createListener","_removeListener","_drawingListener","_moveListener","_generateOptions","Math","floor","Date","now","observers","attached","_generateDataSet","bind","_createChart","_removeChart","_drawingListen","_moveChart","$","generate","addEventListener","btnCreate","btnRemove","btnMove","detached","removeEventListener","dataSet","_generateData","pointsPerSeries","seriesNumber","key","push","_computeCurrentDataSets","pointsNumber","chartType","seriesNames","console","time","result","step","endTime","startTime","isPolar","extents","yMins","yMaxs","x","counter","i","newData","timeStamp","j","name","axisName","length","randomise","random","dataMax","dataMin","toFixed","Number","variance","toString","MAX_VALUE","extKeys","keys","min","max","k","y","timeEnd","set","slice","dataSetDropdown","val","_canScatter","_canCanvas","_canSvg","_canProgRender","canvas","svg","_isTimeseries","_isPolar","_canMultiY","_canChartExtents","_canWebWorker","data","selectedKey","log","_initializeDrawingMeasures","_drawingNumberOfCharts","_drawingTimerName","newDiv","newChart","currWidth","chartHolder","getBoundingClientRect","width","fragment","document","createElement","classList","add","reuse","checked","pop","_processChartCreation","dom","appendChild","_startPerfMeasure","_generateSeriesName","_addSerieAndModifyData","info","numberOfSeries","chart","chartData","filter","d","seriesName","nodeName","toLowerCase","_addOneSerieFromConfig","_removeSerieAndModifyData","missing","_deleteOneSerieFromConfig","_changeData","_changeDataAndSeries","currentNames","newConf","_generateSeriesConfigXYTS","_computeAxes","_removeSerie","_deleteOneSeriesData","confKeys","seriesConfig","isTS","_addSerie","_addOneSeriesData","number","wrappers","root","querySelectorAll","lastWrap","children","removeChild","setTimeout"],"mappings":"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","file":"px-vis-demos-dynamic-add.js","sourcesContent":["(function() {\n  'use strict';\n\n  Polymer({\n    /* Name for the component */\n    is: 'px-vis-demos-dynamic-add',\n\n    /* Behaviors to import for this component */\n    behaviors: [\n      PxVisBehaviorDemo.chartGenerator,\n      PxVisBehaviorDemo.timings\n    ],\n\n    /* Properties for this component */\n    properties: {\n      /**\n      *\n      */\n      chartTypes: {\n        type: Array,\n        value: function() {\n          return [{\"key\":\"px-vis-timeseries\",\"val\":\"px-vis-timeseries\"},{\"key\":\"px-vis-xy-chart\",\"val\":\"px-vis-xy-chart\"},{\"key\":\"px-vis-polar\",\"val\":\"px-vis-polar\"},{\"key\":\"px-vis-radar\",\"val\":\"px-vis-radar\"},{\"key\":\"px-vis-parallel-coordinates\",\"val\":\"px-vis-parallel-coordinates\"},/*{\"key\":\"px-vis-pie-chart\",\"val\":\"px-vis-pie-chart\"}*/];\n        },\n        readOnly: true\n      },\n      selectedChartType: {\n        type: String,\n        value: 'px-vis-timeseries'\n      },\n      dataSets: {\n        type: Object,\n        value: function() {\n          return {\n            'px-vis-timeseries': [{ 'key': 'dummy', 'val': 'PLEASE GENERATE DATA'}],\n            'px-vis-xy-chart': [{ 'key': 'dummy', 'val': 'PLEASE GENERATE DATA'}],\n            'px-vis-polar': [{ 'key': 'dummy', 'val': 'PLEASE GENERATE DATA'}],\n            'px-vis-radar': [{ 'key': 'dummy', 'val': 'PLEASE GENERATE DATA'}],\n            'px-vis-parallel-coordinates': [{ 'key': 'dummy', 'val': 'PLEASE GENERATE DATA'}]\n            // 'px-vis-pie-chart': [{ 'key': 'dummy', 'val': 'please generate data'}]\n          };\n        }\n      },\n      chartPool: {\n        type: Object,\n        value: function() {\n          return {\n            'px-vis-timeseries': [],\n            'px-vis-xy-chart': [],\n            'px-vis-polar': [],\n            'px-vis-radar': [],\n            'px-vis-parallel-coordinates': [],\n            'px-vis-pie-chart': []\n          };\n        }\n      },\n      _currentDataSets: {\n        type: Array\n      },\n      _generateListener: {\n        type: Function\n      },\n      _createListener: {\n        type: Function\n      },\n      _removeListener: {\n        type: Function\n      },\n      _drawingListener: {\n        type: Function\n      },\n      _moveListener: {\n        type: Function\n      },\n      _generateOptions: {\n        type: Object,\n        value: function() {\n          return {\n            'startTime': 571474800000,\n            'endTime': Math.floor(Date.now() ),\n            'dataMin': -10,\n            'dataMax': 10,\n            'variance': 0.7,\n            'counter': 0,\n            'randomise': false\n          };\n        }\n      }\n    },\n\n    observers:[\n        '_computeCurrentDataSets(selectedChartType, dataSets.*)'\n      ],\n\n    attached: function() {\n      this._generateListener = this._generateDataSet.bind(this);\n      this._createListener = this._createChart.bind(this);\n      this._removeListener = this._removeChart.bind(this);\n      this._drawingListener = this._drawingListen.bind(this);\n      this._moveListener = this._moveChart.bind(this);\n      this.$.generate.addEventListener('click', this._generateListener);\n      this.$.btnCreate.addEventListener('click', this._createListener);\n      this.$.btnRemove.addEventListener('click', this._removeListener);\n      this.$.btnMove.addEventListener('click', this._moveListener);\n      this.addEventListener('px-vis-scatter-rendering-ended', this._drawingListener);\n      this.addEventListener('px-vis-line-svg-rendering-ended', this._drawingListener);\n      this.addEventListener('px-vis-chart-canvas-rendering-ended', this._drawingListener);\n    },\n\n    detached: function() {\n      this.$.generate.removeEventListener('click', this._generateListener);\n      this.$.btnCreate.removeEventListener('click', this._createListener);\n      this.$.btnRemove.removeEventListener('click', this._removeListener);\n      this.$.btnMove.removeEventListener('click', this._moveListener);\n      this.removeEventListener('px-vis-scatter-rendering-ended', this._drawingListener);\n      this.removeEventListener('px-vis-line-svg-rendering-ended', this._drawingListener);\n      this.removeEventListener('px-vis-chart-canvas-rendering-ended', this._drawingListener);\n    },\n\n    _generateDataSet: function() {\n\n      var dataSet = this._generateData(this.$.pointsPerSeries.value, this.$.seriesNumber.value, this.selectedChartType);\n\n      //remove placeholder if needed and append new dataset\n      if(this.dataSets[this.selectedChartType][0].key === 'dummy') {\n        this.dataSets[this.selectedChartType][0] = dataSet;\n      } else {\n        this.dataSets[this.selectedChartType].push(dataSet);\n      }\n\n      this._computeCurrentDataSets();\n\n      //TODO: sort by size\n    },\n\n    _generateData: function(pointsNumber, seriesNumber, chartType, seriesNames) {\n\n      console.time(`generating ${pointsNumber*seriesNumber} total (${seriesNumber} series each ${pointsNumber} points) for ${chartType}`);\n\n      var result = [],\n          step = Math.floor((this._generateOptions.endTime - this._generateOptions.startTime)/pointsNumber),\n          isPolar = chartType === 'px-vis-polar',\n          extents = {},\n          yMins = {},\n          yMaxs = {};\n\n      if(chartType === 'px-vis-timeseries') {\n        extents.x = [this._generateOptions.startTime, this._generateOptions.startTime + pointsNumber*step];\n      } else if(chartType === 'px-vis-xy-chart') {\n        extents.x = [0, pointsNumber];\n      }\n\n      this._generateOptions.counter++;\n\n      for(var i=0; i<pointsNumber; i++) {\n        var newData = {};\n\n        newData.timeStamp = this._generateOptions.startTime + i*step;\n\n        for(var j=0; j<seriesNumber; j++) {\n\n          var name = seriesNames ? seriesNames[j] : `y${j}`,\n              axisName = `axis${j}`;\n\n          if(result.length === 0 || this._generateOptions.randomise) {\n            newData[name] = (Math.random() * (this._generateOptions.dataMax - this._generateOptions.dataMin) + this._generateOptions.dataMin).toFixed(3);\n            newData['x'] = isPolar ? Math.random() * 360 : 0;\n          } else {\n            //contain change within 10% of previous value\n            newData[name] = (Number(result[i-1][name]) + (Math.random() * 2 -1) * this._generateOptions.variance).toFixed(3);\n            newData['x'] = i;\n          }\n\n          if(chartType === 'px-vis-radar' || chartType === 'px-vis-parallel-coordinates') {\n            //add some categories\n            newData['category'] = (i%4).toString();\n          }\n\n\n          if(!extents[axisName]) {\n            extents[axisName] = [Number.MAX_VALUE, -Number.MAX_VALUE];\n          }\n          //search for extents\n          if( Number(newData[name]) < Number(extents[axisName][0])) {\n            extents[axisName][0] = newData[name];\n          }\n\n          if( Number(newData[name]) >  Number(extents[axisName][1])) {\n            extents[axisName][1] = newData[name];\n          }\n        }\n\n\n        //find y extents in case we're not multi Y\n        var extKeys = Object.keys(extents),\n            min = Number.MAX_VALUE,\n            max = -Number.MAX_VALUE;\n\n        for(var k =0; k<extKeys.length; k++) {\n          if(extKeys[k] !== 'x') {\n            if(Number(extents[extKeys[k]][1]) > max ) {\n              max = extents[extKeys[k]][1];\n            }\n            if(Number(extents[extKeys[k]][0]) < min) {\n              min = extents[extKeys[k]][0];\n            }\n          }\n        }\n\n        extents.y = [min,max];\n\n        result.push(newData);\n      }\n\n      console.timeEnd(`generating ${pointsNumber*seriesNumber} total (${seriesNumber} series each ${pointsNumber} points) for ${chartType}`);\n\n      return {'val': `[Gen][${this._generateOptions.counter}] ${pointsNumber*seriesNumber} total (${seriesNumber} series each ${pointsNumber} points)` , 'key': { 'data': result, 'extents': extents}};\n    },\n\n    _computeCurrentDataSets: function() {\n\n      this.set('_currentDataSets', this.dataSets[this.selectedChartType].slice());\n\n      //select last item\n      if(this.dataSets[this.selectedChartType] && this.dataSets[this.selectedChartType].length) {\n        this.$.dataSetDropdown.set('displayValue', this.dataSets[this.selectedChartType][this.dataSets[this.selectedChartType].length-1].val);\n        this.$.dataSetDropdown.set('selectedKey', this.dataSets[this.selectedChartType][this.dataSets[this.selectedChartType].length-1].key);\n      }\n    },\n\n    _canScatter: function(selectedChartType) {\n      return selectedChartType !== 'px-vis-parallel-coordinates' && selectedChartType !== 'px-vis-radar' && selectedChartType !== 'px-vis-pie-chart' && selectedChartType !== 'px-vis-polar';\n    },\n\n    _canCanvas: function(selectedChartType) {\n      return selectedChartType === 'px-vis-timeseries' || selectedChartType === 'px-vis-xy-chart' || selectedChartType === 'px-vis-polar';\n    },\n\n    _canSvg: function(selectedChartType) {\n      return selectedChartType === 'px-vis-parallel-coordinates' || selectedChartType === 'px-vis-radar';\n    },\n\n    _canProgRender: function(selectedChartType, canvas, svg) {\n      return (this._canCanvas(selectedChartType) && canvas) || (this._canSvg(selectedChartType) && !svg);\n    },\n\n    _isTimeseries: function(selectedChartType) {\n      return selectedChartType === 'px-vis-timeseries';\n    },\n\n    _isPolar: function(selectedChartType) {\n      return selectedChartType === 'px-vis-polar';\n    },\n\n    _canMultiY: function(selectedChartType) {\n      return selectedChartType === 'px-vis-timeseries' || selectedChartType === 'px-vis-xy-chart';\n    },\n\n    _canChartExtents: function(selectedChartType) {\n      return selectedChartType !== 'px-vis-parallel-coordinates' && selectedChartType !== 'px-vis-polar';\n    },\n\n    _canWebWorker: function(selectedChartType) {\n      return selectedChartType !== 'px-vis-parallel-coordinates' && selectedChartType !== 'px-vis-radar';\n    },\n\n    _createChart: function() {\n\n      var data = this.$.dataSetDropdown.selectedKey.data,\n          extents = this.$.dataSetDropdown.selectedKey.extents;\n\n      if(this.$.dataSetDropdown.selectedKey === 'dummy') {\n        console.log(`No data selected, please generate data for ${this.selectedChartType}`);\n        return;\n      }\n\n      if(data) {\n        this._initializeDrawingMeasures(this.selectedChartType, this._drawingNumberOfCharts, data);\n        this._drawingTimerName = `draw ${this._drawingNumberOfCharts} ${this.selectedChartType}`;\n\n\n        var newDiv,\n            newChart,\n            currWidth = this.$.chartHolder.getBoundingClientRect().width,\n            fragment = document.createElement('div');\n\n        fragment.classList.add('creationBatchDiv');\n\n        //create the requested number of charts\n        for(var i=0;i <this._drawingNumberOfCharts; i++) {\n\n          newDiv = document.createElement('div');\n          newDiv.classList.add('divwrapper');\n\n          //reuse charts if asked, create otherwise\n          if(this.$.reuse.checked) {\n            if(this.chartPool[this.selectedChartType].length) {\n              newChart = this.chartPool[this.selectedChartType].pop();\n\n            } else {\n              console.log(`failed to reuse ${this.selectedChartType} from chartPool, none available`);\n              newChart = document.createElement(this.selectedChartType);\n            }\n          } else {\n            newChart = document.createElement(this.selectedChartType);\n          }\n\n          this._processChartCreation(newChart, extents, data, currWidth);\n\n          //append chart in div\n          Polymer.dom(newDiv).appendChild(newChart);\n          Polymer.dom(fragment).appendChild(newDiv);\n        }\n\n        //finally append all charts in our element\n        Polymer.dom(this.$.chartHolder).appendChild(fragment);\n        this._startPerfMeasure();\n\n      } else {\n        console.log('please select data');\n      }\n    },\n\n    _generateSeriesName: function() {\n      return `y${Math.floor(Math.random()*1000)}`;\n    },\n\n    _addSerieAndModifyData: function(info) {\n      var numberOfSeries = Object.keys(info.chart.chartData[0]).length - 2,\n          seriesNames = Object.keys(info.chart.chartData[0]).filter(function(d, i) { return d[0] === 'y';}),\n          data,\n          seriesName  = this._generateSeriesName();\n\n      seriesNames.push(seriesName);\n\n      data = this._generateData(info.chart.chartData.length, numberOfSeries + 1, info.chart.nodeName.toLowerCase(), seriesNames);\n\n      info.chart.set('chartData', data.key.data);\n\n      this._addOneSerieFromConfig(info.chart, numberOfSeries, seriesName);\n    },\n\n    _removeSerieAndModifyData: function(info) {\n      var data,\n          seriesNames = Object.keys(info.chart.chartData[0]).filter(function(d, i) { return d[0] === 'y';});\n\n      data = this._generateData(info.chart.chartData.length, Object.keys(info.chart.chartData[0]).length - 3, info.chart.nodeName.toLowerCase(), seriesNames);\n\n      var missing,\n          keys = Object.keys(data.key.data[0]);\n\n      for(var i=0; i<seriesNames.length; i++) {\n        if(!data.key.data[0][seriesNames[i]]) {\n          missing = seriesNames[i];\n          break;\n        }\n      }\n\n      info.chart.set('chartData', data.key.data);\n      this._deleteOneSerieFromConfig(info.chart, missing);\n    },\n\n    _changeData: function(info) {\n\n      var data,\n          seriesNames = Object.keys(info.chart.chartData[0]).filter(function(d, i) { return d[0] === 'y';});\n\n      data = this._generateData(info.chart.chartData.length, Object.keys(info.chart.chartData[0]).length - 2, info.chart.nodeName.toLowerCase(), seriesNames);\n\n      info.chart.set('chartData', data.key.data);\n    },\n\n    _changeDataAndSeries: function(info) {\n      var numberOfSeries = Object.keys(info.chart.chartData[0]).length - 2,\n          seriesNames = [],\n          currentNames = Object.keys(info.chart.chartData[0]).filter(function(d, i) { return d[0] === 'y'}),\n        data;\n\n\n      for(var i=0; i< currentNames.length; i++) {\n        seriesNames.push(this._generateSeriesName());\n      }\n\n      data = this._generateData(info.chart.chartData.length, numberOfSeries, info.chart.nodeName.toLowerCase(), seriesNames);\n\n      info.chart.set('chartData', data.key.data);\n\n      if(info.chart.nodeName.toLowerCase() === 'px-vis-timeseries' ||\n          info.chart.nodeName.toLowerCase() === 'px-vis-xy-chart' ||\n          info.chart.nodeName.toLowerCase() === 'px-vis-polar') {\n\n        //find the series names: y +  a random number\n        var newConf = {};\n\n        for(var i=0; i<numberOfSeries ;i++) {\n\n          if(info.chart.nodeName.toLowerCase() === 'px-vis-polar') {\n            newConf[seriesNames[i]] = {\n              'x': 'x',\n              'y': seriesNames[i],\n              'yAxisUnit': 'u'\n            };\n          } else {\n            newConf[seriesNames[i]] = this._generateSeriesConfigXYTS(seriesNames[i].slice(1), false, info.chart.nodeName.toLowerCase() === 'px-vis-timeseries', info.chart);\n          }\n        }\n\n        info.chart.set('seriesConfig', newConf);\n      } else if(info.chart.nodeName.toLowerCase() === 'px-vis-parallel-coordinates' ||           info.chart.nodeName.toLowerCase() === 'px-vis-radar') {\n\n    //    info.chart.push('axes', `y${numberOfSeries}`);\n        //todo:expose a metho on the info.chart to redraw\n        info.chart._computeAxes();\n      }\n    },\n\n    _removeSerie: function(info) {\n\n      var currentNames = Object.keys(info.chart.chartData[0]).filter(function(d, i) { return d[0] === 'y'}),\n          seriesName = currentNames[currentNames.length-1];\n\n      this._deleteOneSeriesData(info.chart.chartData, seriesName);\n      this._deleteOneSerieFromConfig(info.chart, seriesName);\n    },\n\n    _deleteOneSerieFromConfig: function(chart, seriesName) {\n      if(chart.nodeName.toLowerCase() === 'px-vis-timeseries' ||\n          chart.nodeName.toLowerCase() === 'px-vis-xy-chart' ||\n          chart.nodeName.toLowerCase() === 'px-vis-polar') {\n        var newConf = {},\n            confKeys = Object.keys(chart.seriesConfig);\n\n        //copy current conf to bypass dirty check\n        for(var i=0; i<confKeys.length; i++) {\n          if(seriesName !== confKeys[i]) {\n            newConf[confKeys[i]] = chart.seriesConfig[confKeys[i]];\n          }\n        }\n\n        chart.set('seriesConfig', newConf);\n      } else if(chart.nodeName.toLowerCase() === 'px-vis-parallel-coordinates' || chart.nodeName.toLowerCase() === 'px-vis-radar') {\n\n    //    chart.push('axes', `y${numberOfSeries}`);\n        //todo:expose a metho on the chart to redraw\n        chart._computeAxes();\n      }\n    },\n\n    _addOneSerieFromConfig: function(chart, numberOfSeries, seriesName) {\n      //add serie\n      if(chart.nodeName.toLowerCase() === 'px-vis-timeseries' ||\n          chart.nodeName.toLowerCase() === 'px-vis-xy-chart'  ||\n          chart.nodeName.toLowerCase() === 'px-vis-polar') {\n        var newConf = {},\n            confKeys = Object.keys(chart.seriesConfig),\n            isTS = chart.nodeName.toLowerCase() === 'px-vis-timeseries';\n\n        //copy current conf to bypass dirty check\n        for(var i=0; i<confKeys.length; i++) {\n          newConf[confKeys[i]] = chart.seriesConfig[confKeys[i]];\n        }\n\n        if(chart.nodeName.toLowerCase() === 'px-vis-polar') {\n          newConf[seriesName] = {\n            'x': 'x',\n            'y': seriesName,\n            'yAxisUnit': 'u'\n          };\n        } else {\n          newConf[seriesName] = this._generateSeriesConfigXYTS(seriesName.slice(1), false, isTS, chart);\n        }\n\n        chart.set('seriesConfig', newConf);\n      } else if(chart.nodeName.toLowerCase() === 'px-vis-parallel-coordinates' || chart.nodeName.toLowerCase() === 'px-vis-radar') {\n\n    //    chart.push('axes', `y${numberOfSeries}`);\n        //todo:expose a metho on the chart to redraw\n        chart._computeAxes();\n      }\n    },\n\n    _addSerie: function(info) {\n\n      //add the data\n      var numberOfSeries = Object.keys(info.chart.chartData[0]).length - 2,\n          seriesName  = this._generateSeriesName();\n      this._addOneSeriesData(info.chart.chartData, seriesName);\n      this._addOneSerieFromConfig(info.chart, numberOfSeries, seriesName);\n    },\n\n    _addOneSeriesData: function(data, seriesName) {\n      var number = Object.keys(data[0]).length - 2;\n      for(var i=0; i<data.length; i++) {\n\n        if(i===0) {\n\n            data[i][seriesName] = Math.random() * (this._generateOptions.dataMax - this._generateOptions.dataMin) + this._generateOptions.dataMin;\n\n        } else {\n          //contain change within 10% of previous value\n          data[i][seriesName] = data[i-1][seriesName] + (Math.random() * 2 -1) * this._generateOptions.variance;\n        }\n      }\n    },\n\n    _deleteOneSeriesData: function(data, seriesName) {\n      var number = Object.keys(data[0]).length - 3;\n      for(var i=0; i<data.length; i++) {\n\n        delete data[i][seriesName];\n      }\n    },\n\n    _removeChart: function() {\n      var wrappers = Polymer.dom(this.root).querySelectorAll('.creationBatchDiv'),\n          lastWrap = wrappers[wrappers.length - 1],\n          chart;\n\n      if(lastWrap) {\n\n        if(this.$.reuse.checked) {\n          //store used charts for later\n          for(var i=0; i<lastWrap.children.length; i++) {\n            chart = lastWrap.children[i].children[0];\n            this.chartPool[chart.nodeName.toLowerCase()].push(chart);\n          }\n        }\n\n        Polymer.dom(this.$.chartHolder).removeChild(lastWrap);\n      }\n    },\n\n    _moveChart: function() {\n      var wrappers = Polymer.dom(this.root).querySelectorAll('.divwrapper'),\n          lastWrap = wrappers[wrappers.length - 1];\n\n      if(lastWrap) {\n\n\n        Polymer.dom(this.$.chartHolder).removeChild(lastWrap);\n\n        setTimeout(function() {\n          this._startPerfMeasure();\n          Polymer.dom(this.$.chartHolder).appendChild(lastWrap);\n        }.bind(this),500);\n\n      }\n    },\n\n\n\n\n  });\n})();\n"]}