{"version":3,"sources":["px-vis-benchmark.es6.js"],"names":["Polymer","is","behaviors","PxVisBehaviorDemo","chartGenerator","timings","propertyWatch","properties","_drawingListener","type","Function","perfResult","Array","notify","dataRootPath","String","value","data4x1k","Object","data4x10k","data40x1k","data40x10k","_dataReady","Boolean","computed","_currentPerfMeasure","_currentBenchIndex","Number","_isPolymer1","reportData","hasResults","contexts","_status","isRunning","_cleaningUp","_buildWarmup","hideUi","ready","_drawingListen","bind","_renderingStarted","set","Element","Base","importHref","ResolveUrl","resolveUrl","_startFullTS","_buildContexts","_start","_startAllCharts","_scheduleNextLoop","ctx","length","timeout","disableMeasures","cleaningTimeout","window","setTimeout","_runOneBenchmark","_buildReportData","e","_drawingCounter","target","dom","localTarget","perf","benchmarkId","counter","_drawingMultiplier","performance","mark","index","console","log","_removeTimingListeners","_drawingNumberOfCharts","_processPerfTimings","_endLoop","clearMarks","_chartOptions","options","loopInfo","numberOfCharts","result","context","currentChart","newDiv","fragment","document","createElement","extents","_initializeDrawingMeasures","chartType","data","i","style","_createNewChart","appendChild","$","chartHolder","x","y","_addTimingEventListener","renderType","canvas","_processChartCreation","chart","_propertiesTimed","nodeName","_addPropertyWatcher","addEventListener","removeEventListener","myNode","firstChild","removeChild","push","_measureTiming","_processPropertiesTiming","total","tableData","currentReportData","current","keys1","keys2","pair","average","min","max","val","p","keys","j","parseFloat","toFixed","_buildStats","duration","count","unshift","title","description","key","Math","getEntriesByName","_computeDataReady","_buttonClass","_buttonText","buildWarmupContext","_buildFullTSContext","_buildAllChartsContext","createContext","disableNav","number","size","preventResize","_computeStatus","getDatasetSize","dataset","numberOfSeries"],"mappings":"aAAA,CAAC,UAAW,CACV,aAEAA,QAAQ,CAENC,GAAI,kBAFE,CAKNC,UAAW,CACTC,kBAAkBC,cADT,CAETD,kBAAkBE,OAFT,CAGTF,kBAAkBG,aAHT,CALL,CAYNC,WAAY,CACVC,iBAAkB,CAChBC,KAAMC,QADU,CADR,CAIVC,WAAY,CACVF,KAAMG,KADI,CAEVC,OAAQ,IAFE,CAJF,CAQVC,aAAc,CACZL,KAAMM,MADM,CAEZC,MAAO,iBAFK,CARJ,CAYVC,SAAU,CACRR,KAAMS,MADE,CAZA,CAeVC,UAAW,CACTV,KAAMS,MADG,CAfD,CAkBVE,UAAW,CACTX,KAAMS,MADG,CAlBD,CAqBVG,WAAY,CACVZ,KAAMS,MADI,CArBF,CAwBVI,WAAY,CACVb,KAAMc,OADI,CAEVC,SAAU,+DAFA,CAxBF,CA4BVC,oBAAqB,CACnBhB,KAAMS,MADa,CA5BX,CA+BVQ,mBAAoB,CAClBjB,KAAMkB,MADY,CAElBX,MAAO,CAFW,CA/BV,CAmCVY,YAAa,CACXnB,KAAMc,OADK,CAnCH,CAsCVM,WAAY,CACVpB,KAAMG,KADI,CAEVI,MAAO,gBAAW,CAChB,MAAO,EACR,CAJS,CAKVH,OAAQ,IALE,CAtCF,CA6CViB,WAAY,CACVrB,KAAMc,OADI,CAEVP,MAAO,KAFG,CAGVH,OAAQ,IAHE,CA7CF,CAkDVkB,SAAU,CACRtB,KAAMG,KADE,CAlDA,CAqDVoB,QAAS,CACPvB,KAAMM,MADC,CAEPS,SAAU,2DAFH,CArDC,CAyDVS,UAAW,CACTxB,KAAMc,OADG,CAETP,MAAO,KAFE,CAGTH,OAAQ,IAHC,CAzDD,CA8DVqB,YAAa,CACXzB,KAAMc,OADK,CAEXP,MAAO,KAFI,CAGXH,OAAQ,IAHG,CA9DH,CAmEVsB,aAAc,CACZ1B,KAAMc,OADM,CAEZP,MAAO,IAFK,CAnEJ,CAuEVoB,OAAQ,CACN3B,KAAMc,OADA,CAENP,MAAO,KAFD,CAvEE,CAZN,CAyFNqB,MAAO,gBAAW,CAChB,KAAK7B,gBAAL,CAAwB,KAAK8B,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAAxB,CACA,KAAKC,iBAAL,CAAyB,KAAKA,iBAAL,CAAuBD,IAAvB,CAA4B,IAA5B,CAAzB,CACA,KAAKE,GAAL,CAAS,aAAT,CAAwB,CAACzC,QAAQ0C,OAAjC,EACA,GAAG,KAAKd,WAAR,CAAqB,CACnB5B,QAAQ2C,IAAR,CAAaC,UAAb,CAAwB5C,QAAQ6C,UAAR,CAAmBC,UAAnB,CAA8B,mDAA9B,CAAkF,EAAlF,CAAxB,CACD,CAFD,IAEO,CACL9C,QAAQ4C,UAAR,CAAmB5C,QAAQ6C,UAAR,CAAmBC,UAAnB,CAA8B,kDAA9B,CAAiF,EAAjF,CAAnB,CACD,CACF,CAlGK,CAoGNC,aAAc,uBAAW,CACvB,KAAKhB,QAAL,CAAgB,EAAhB,CACA,KAAKiB,cAAL,CAAoB,QAApB,EACA,KAAKC,MAAL,EACD,CAxGK,CA0GNC,gBAAiB,0BAAW,CAC1B,KAAKnB,QAAL,CAAgB,EAAhB,CACA,KAAKiB,cAAL,CAAoB,WAApB,EACA,KAAKC,MAAL,EACD,CA9GK,CAgHNA,OAAQ,iBAAW,CAEjB,KAAKR,GAAL,CAAS,YAAT,CAAuB,KAAvB,EACA,KAAKA,GAAL,CAAS,WAAT,CAAsB,IAAtB,EACA,KAAK9B,UAAL,CAAkB,EAAlB,CACA,KAAKe,kBAAL,CAA0B,CAA1B,CAEA,KAAKyB,iBAAL,EACD,CAxHK,CA0HNA,kBAAmB,4BAAW,CAE5B,GAAIC,IAAJ,CAEA,GAAG,KAAK1B,kBAAL,CAA0B,KAAKK,QAAL,CAAcsB,MAA3C,CAAmD,CAEjD,GAAIC,QAAJ,CACAF,IAAM,KAAKrB,QAAL,CAAc,KAAKL,kBAAnB,CAAN,CAEA,GAAG,KAAKA,kBAAL,GAA4B,CAA5B,EAAiC0B,IAAIG,eAAxC,CAAyD,CACvDD,QAAU,CACX,CAFD,IAEO,CACLA,QAAUF,IAAII,eAAJ,EAAuBJ,IAAII,eAAJ,GAAwB,CAA/C,CAAmDJ,IAAII,eAAvD,CAAyE,IACpF,CAED,KAAK9B,kBAAL,GAEA,GAAG4B,OAAH,CAAY,CACV,KAAKpB,WAAL,CAAmB,IACpB,CAEDuB,OAAOC,UAAP,CAAkB,UAAW,CAC3B,KAAKxB,WAAL,CAAmB,KAAnB,CACA,KAAKyB,gBAAL,CAAsBP,GAAtB,CACD,CAHiB,CAGhBb,IAHgB,CAGX,IAHW,CAAlB,CAGce,OAHd,CAID,CArBD,IAqBO,CAEL,KAAKM,gBAAL,GACA,KAAKnB,GAAL,CAAS,YAAT,CAAuB,IAAvB,EACA,KAAKA,GAAL,CAAS,WAAT,CAAsB,KAAtB,CACD,CACF,CAzJK,CA2JNH,eAAgB,wBAASuB,CAAT,CAAY,CAC1B,KAAKC,eAAL,GAEA,GAAIC,QAAS/D,QAAQgE,GAAR,CAAYH,CAAZ,EAAeI,WAA5B,CACIC,KAAO,KAAKzC,mBAAL,CAAyBsC,OAAOI,WAAhC,CADX,CAGA,GAAGD,IAAH,CAAS,CAEPA,KAAKE,OAAL,GACA,GAAGF,KAAKE,OAAL,CAAa,KAAKC,kBAAlB,GAAyC,CAA5C,CAA+C,CAC7CZ,OAAOa,WAAP,CAAmBC,IAAnB,eAAsCL,KAAKM,KAA3C,EACAC,QAAQC,GAAR,UAAqBR,KAAKM,KAA1B,sBACA,KAAKG,sBAAL,CAA4BZ,MAA5B,CACD,CACF,CAKD,GAAG,KAAKD,eAAL,EAAsB,KAAKO,kBAAL,CAAwB1C,OAAO,KAAKiD,sBAAZ,CAA9C,IAAuF,CAA1F,CAA6F,CAE3FnB,OAAOa,WAAP,CAAmBC,IAAnB,CAAwB,SAAxB,EAEA,KAAKM,mBAAL,GACA,KAAKC,QAAL,GAEAL,QAAQC,GAAR,CAAY,UAAZ,CACD,CACF,CAvLK,CAyLNf,iBAAkB,0BAASP,GAAT,CAAc,CAE9BK,OAAOa,WAAP,CAAmBS,UAAnB,GACA,KAAKC,aAAL,CAAqB5B,IAAI6B,OAAzB,CACA,KAAKxD,mBAAL,CAA2B,EAA3B,CACA,KAAKA,mBAAL,CAAyByD,QAAzB,CAAoC,EAApC,CACA,KAAKzD,mBAAL,CAAyByD,QAAzB,CAAkC9B,GAAlC,CAAwCA,GAAxC,CACA,KAAK3B,mBAAL,CAAyByD,QAAzB,CAAkCD,OAAlC,CAA4C,KAAKD,aAAjD,CACA,KAAKvD,mBAAL,CAAyByD,QAAzB,CAAkCC,cAAlC,CAAmD/B,IAAI+B,cAAvD,CAEA,GAAIC,QAAS,CACPC,QAASjC,GADF,CAAb,CAGIkC,YAHJ,CAIIC,MAJJ,CAKIC,SAAWC,SAASC,aAAT,CAAuB,KAAvB,CALf,CAMIC,OANJ,CAQA,KAAKC,0BAAL,CAAgCxC,IAAIyC,SAApC,CAA+CzC,IAAI+B,cAAnD,CAAmE/B,IAAI0C,IAAJ,CAASA,IAA5E,EAEArC,OAAOa,WAAP,CAAmBC,IAAnB,cACA,IAAI,GAAIwB,GAAE,CAAV,CAAaA,EAAE3C,IAAI+B,cAAnB,CAAmCY,GAAnC,CAAwC,CAEtCR,OAASE,SAASC,aAAT,CAAuB,KAAvB,CAAT,CACAH,OAAOS,KAAP,CAAa,QAAb,EAAyB,OAAzB,CAEAV,aAAe,KAAKW,eAAL,CAAqB7C,GAArB,CAA0B2C,CAA1B,CAAf,CAGA/F,QAAQgE,GAAR,CAAYuB,MAAZ,EAAoBW,WAApB,CAAgCZ,YAAhC,EACAtF,QAAQgE,GAAR,CAAYwB,QAAZ,EAAsBU,WAAtB,CAAkCX,MAAlC,CACD,CAED9B,OAAOa,WAAP,CAAmBC,IAAnB,CAAwB,eAAxB,EACA,KAAK4B,CAAL,CAAOC,WAAP,CAAmBF,WAAnB,CAA+BV,QAA/B,EACA/B,OAAOa,WAAP,CAAmBC,IAAnB,CAAwB,cAAxB,CACD,CA7NK,CA+NN0B,gBAAiB,yBAAS7C,GAAT,CAAcoB,KAAd,CAAqB,CACpC,GAAIc,aAAJ,CACIK,OADJ,CAGA,GAAGvC,IAAIyC,SAAJ,GAAkB,iBAArB,CAAwC,CACtCF,QAAU,CACRU,EAAG,CAAC,CAAD,CAAIjD,IAAI0C,IAAJ,CAASA,IAAT,CAAczC,MAAd,CAAqB,CAAzB,CADK,CAERiD,EAAGlD,IAAI0C,IAAJ,CAASH,OAAT,CAAiBW,CAFZ,CAIX,CALD,IAKO,CACLX,QAAUvC,IAAI0C,IAAJ,CAASH,OACpB,CAEDlC,OAAOa,WAAP,CAAmBC,IAAnB,aAAoCC,KAApC,EACAc,aAAeG,SAASC,aAAT,CAAuBtC,IAAIyC,SAA3B,CAAf,CAGA,KAAKU,uBAAL,CAA6BjB,YAA7B,EAEAA,aAAanB,WAAb,CAA2BK,KAA3B,CACA,KAAK/C,mBAAL,CAAyB+C,KAAzB,EAAkC,CAChCgC,WAAY,KAAKxB,aAAL,CAAmByB,MAAnB,CAA4B,QAA5B,CAAuC,KADnB,CAEhCZ,UAAWzC,IAAIyC,SAFiB,CAGhCzB,QAAS,CAHuB,CAIhCI,MAAOA,KAJyB,CAAlC,CAOA,KAAKkC,qBAAL,CAA2BpB,YAA3B,CAAyCK,OAAzC,CAAkDvC,IAAI0C,IAAJ,CAASA,IAA3D,EACArC,OAAOa,WAAP,CAAmBC,IAAnB,gBAAuCC,KAAvC,EAEA,MAAOc,aACR,CA9PK,CAgQNiB,wBAAyB,iCAASI,KAAT,CAAgB,CAEvC,KAAKC,gBAAL,CAAwB,EAAxB,CACA,GAAGD,MAAME,QAAN,GAAmB,6BAAnB,EAAoDF,MAAME,QAAN,GAAmB,cAA1E,CAA0F,CACxF,KAAKC,mBAAL,CAAyBH,KAAzB,CAAgC,YAAhC,CACD,CAFD,IAEO,CAEN,CAED,KAAKG,mBAAL,CAAyBH,KAAzB,CAAgC,GAAhC,EACA,KAAKG,mBAAL,CAAyBH,KAAzB,CAAgC,GAAhC,EACA,KAAKG,mBAAL,CAAyBH,KAAzB,CAAgC,eAAhC,EACAA,MAAMI,gBAAN,CAAuB,gCAAvB,CAAyD,KAAKvG,gBAA9D,EACAmG,MAAMI,gBAAN,CAAuB,iCAAvB,CAA0D,KAAKvG,gBAA/D,EACAmG,MAAMI,gBAAN,CAAuB,qCAAvB,CAA8D,KAAKvG,gBAAnE,EACAmG,MAAMI,gBAAN,CAAuB,uCAAvB,CAAgE,KAAKvE,iBAArE,CACD,CAhRK,CAkRNmC,uBAAwB,gCAASgC,KAAT,CAAgB,CACtCA,MAAMK,mBAAN,CAA0B,gCAA1B,CAA4D,KAAKxG,gBAAjE,EACAmG,MAAMK,mBAAN,CAA0B,iCAA1B,CAA6D,KAAKxG,gBAAlE,EACAmG,MAAMK,mBAAN,CAA0B,qCAA1B,CAAiE,KAAKxG,gBAAtE,EACAmG,MAAMK,mBAAN,CAA0B,uCAA1B,CAAmE,KAAKxE,iBAAxE,CACD,CAvRK,CAyRNsC,SAAU,mBAAW,CAEnBrB,OAAOC,UAAP,CAAkB,UAAU,CAG1B,GAAIuD,QAAS,KAAKd,CAAL,CAAOC,WAApB,CACA,MAAOa,OAAOC,UAAd,CAA0B,CACtBD,OAAOE,WAAP,CAAmBF,OAAOC,UAA1B,CACH,EAED,GAAG,CAAC,KAAKzF,mBAAL,CAAyByD,QAAzB,CAAkC9B,GAAlC,CAAsCG,eAA1C,CAA2D,CACzD,KAAK5C,UAAL,CAAgByG,IAAhB,CAAqB,KAAK3F,mBAA1B,CACD,CAED,KAAK0B,iBAAL,EACD,CAbiB,CAahBZ,IAbgB,CAaX,IAbW,CAAlB,CAac,GAbd,CAcD,CAzSK,CA2SNsC,oBAAqB,8BAAW,CAE9B,GAAIX,KAAJ,CAEA,IAAI,GAAI6B,GAAE,CAAV,CAAaA,EAAE,KAAKtE,mBAAL,CAAyByD,QAAzB,CAAkCC,cAAjD,CAAiEY,GAAjE,CAAsE,CACpE7B,KAAO,KAAKzC,mBAAL,CAAyBsE,CAAzB,CAAP,CACA7B,KAAK7D,OAAL,CAAe,EAAf,CAEA6D,KAAK7D,OAAL,CAAa,UAAb,EAA2B,KAAKgH,cAAL,CAAoB,UAApB,aAA4CnD,KAAKM,KAAjD,gBAAyEN,KAAKM,KAA9E,CAA3B,CAGA,GAAGN,KAAKsC,UAAL,GAAoB,QAAvB,CAAiC,CAI/BtC,KAAK7D,OAAL,CAAa,SAAb,EAA0B,KAAKgH,cAAL,CAAoB,SAApB,iBAA+CnD,KAAKM,KAApD,eAA2EN,KAAKM,KAAhF,CAC3B,CAEDN,KAAK7D,OAAL,CAAa,OAAb,EAAwB,KAAKgH,cAAL,CAAoB,OAApB,+BAA4DnD,KAAKM,KAAjE,CAAxB,CAEA,KAAK8C,wBAAL,CAA8BpD,KAAKM,KAAnC,CAA0CN,IAA1C,CACD,CAED,KAAKzC,mBAAL,CAAyB8F,KAAzB,CAAiC,KAAKF,cAAL,CAAoB,OAApB,CAA6B,WAA7B,CAA0C,SAA1C,CAClC,CAnUK,CAqUNzD,iBAAkB,2BAAW,CAE3B,GAAI4D,UAAJ,CACI3F,WAAa,EADjB,CAEI4F,iBAFJ,CAGIC,OAHJ,CAIIC,KAJJ,CAKIC,KALJ,CAMIC,IANJ,CAOIC,OAPJ,CAQIC,GARJ,CASIC,GATJ,CAUIC,GAVJ,CAYA,IAAI,GAAIC,GAAE,CAAV,CAAaA,EAAE,KAAKvH,UAAL,CAAgB0C,MAA/B,CAAuC6E,GAAvC,CAA4C,CAE1CV,UAAY,EAAZ,CACAG,MAAQzG,OAAOiH,IAAP,CAAY,KAAKxH,UAAL,CAAgBuH,CAAhB,CAAZ,CAAR,CACAJ,QAAU,CAAE,OAAQ,SAAV,CAAV,CACAC,IAAM,CAAE,OAAQ,KAAV,CAAN,CACAC,IAAM,CAAE,OAAQ,KAAV,CAAN,CAEA,IAAI,GAAIjC,GAAE,CAAV,CAAaA,EAAE4B,MAAMtE,MAArB,CAA6B0C,GAA7B,CAAkC,CAChC8B,KAAO,CAACF,MAAM5B,CAAN,CAAD,CAAW,KAAKpF,UAAL,CAAgBuH,CAAhB,EAAmBP,MAAM5B,CAAN,CAAnB,CAAX,CAAP,CACA2B,QAAU,CACR,OAAQ,QAAU3B,CADV,CAAV,CAKA,GAAG8B,KAAK,CAAL,IAAY,UAAZ,EAA0BA,KAAK,CAAL,IAAY,OAAzC,CAAkD,CAGhDD,MAAQ1G,OAAOiH,IAAP,CAAYN,KAAK,CAAL,EAAQxH,OAApB,CAAR,CACA,IAAI,GAAI+H,GAAE,CAAV,CAAaA,EAAER,MAAMvE,MAArB,CAA6B+E,GAA7B,CAAkC,CAChCH,IAAMI,WAAWR,KAAK,CAAL,EAAQxH,OAAR,CAAgBuH,MAAMQ,CAAN,CAAhB,CAAX,EAAsCE,OAAtC,CAA8C,CAA9C,CAAN,CACAZ,QAAQE,MAAMQ,CAAN,CAAR,EAAoBH,GAApB,CACA,KAAKM,WAAL,CAAiBT,OAAjB,CAA0BC,GAA1B,CAA+BC,GAA/B,CAAoCJ,MAAMQ,CAAN,CAApC,CAA8CH,GAA9C,CACD,CAGDL,MAAQ1G,OAAOiH,IAAP,CAAYN,KAAK,CAAL,EAAQtH,UAApB,CAAR,CACA,IAAI,GAAI6H,GAAE,CAAV,CAAaA,EAAER,MAAMvE,MAArB,CAA6B+E,GAA7B,CAAkC,CAChCH,IAAMI,WAAWR,KAAK,CAAL,EAAQtH,UAAR,CAAmBqH,MAAMQ,CAAN,CAAnB,EAA6BI,QAAxC,EAAkDF,OAAlD,CAA0D,CAA1D,CAAN,CACAZ,QAAQE,MAAMQ,CAAN,CAAR,EAAoBH,GAApB,CACA,KAAKM,WAAL,CAAiBT,OAAjB,CAA0BC,GAA1B,CAA+BC,GAA/B,CAAoCJ,MAAMQ,CAAN,CAApC,CAA8CH,GAA9C,EAEAA,IAAMJ,KAAK,CAAL,EAAQtH,UAAR,CAAmBqH,MAAMQ,CAAN,CAAnB,EAA6BK,KAAnC,CACAf,QAAQE,MAAMQ,CAAN,EAAW,UAAnB,EAAiCH,GAAjC,CACA,KAAKM,WAAL,CAAiBT,OAAjB,CAA0BC,GAA1B,CAA+BC,GAA/B,CAAoCJ,MAAMQ,CAAN,EAAW,UAA/C,CAA2DH,GAA3D,CACD,CAEDT,UAAUJ,IAAV,CAAeM,OAAf,CACD,CAEF,CAGDE,MAAQ1G,OAAOiH,IAAP,CAAYL,OAAZ,CAAR,CACA,IAAI,GAAIM,GAAE,CAAV,CAAaA,EAAER,MAAMvE,MAArB,CAA6B+E,GAA7B,CAAkC,CAChC,GAAGR,MAAMQ,CAAN,IAAa,MAAhB,CAAwB,CACtBN,QAAQF,MAAMQ,CAAN,CAAR,EAAoB,CAACN,QAAQF,MAAMQ,CAAN,CAAR,EAAkBZ,UAAUnE,MAA7B,EAAqCiF,OAArC,CAA6C,CAA7C,CACrB,CACF,CACDd,UAAUkB,OAAV,CAAkBV,GAAlB,EACAR,UAAUkB,OAAV,CAAkBX,GAAlB,EACAP,UAAUkB,OAAV,CAAkBZ,OAAlB,EAEAL,kBAAoB,CAClB,YAAaD,SADK,CAElB,QAAS,KAAK7G,UAAL,CAAgBuH,CAAhB,EAAmBhD,QAAnB,CAA4B9B,GAA5B,CAAgCuF,KAFvB,CAGlB,cAAe,KAAKhI,UAAL,CAAgBuH,CAAhB,EAAmBhD,QAAnB,CAA4B9B,GAA5B,CAAgCwF,WAH7B,CAIlB,QAAS,KAAKjI,UAAL,CAAgBuH,CAAhB,EAAmBX,KAAnB,CAAyBe,OAAzB,CAAiC,CAAjC,CAJS,CAKlB,UAAW,CAAC,KAAK3H,UAAL,CAAgBuH,CAAhB,EAAmBX,KAAnB,CAAyB,KAAK5G,UAAL,CAAgBuH,CAAhB,EAAmBhD,QAAnB,CAA4BC,cAAtD,EAAsEmD,OAAtE,CAA8E,CAA9E,CALO,CAApB,CAQAzG,WAAWuF,IAAX,CAAgBK,iBAAhB,CACD,CAED,KAAKhF,GAAL,CAAS,YAAT,CAAuBZ,UAAvB,CACD,CApZK,CAsZN0G,YAAa,qBAAST,OAAT,CAAkBC,GAAlB,CAAuBC,GAAvB,CAA4Ba,GAA5B,CAAiC7H,KAAjC,CAAwC,CAEnD,GAAG,CAAC8G,QAAQe,GAAR,CAAD,EAAiBf,QAAQe,GAAR,IAAiB,CAArC,CAAwC,CACtCf,QAAQe,GAAR,EAAeR,WAAWrH,KAAX,CAChB,CAFD,IAEO,CACL8G,QAAQe,GAAR,GAAgBR,WAAWrH,KAAX,CACjB,CAED,GAAG,CAAC+G,IAAIc,GAAJ,CAAD,EAAad,IAAIc,GAAJ,IAAa,CAA7B,CAAgC,CAC9Bd,IAAIc,GAAJ,EAAW7H,KACZ,CAFD,IAEO,CACL+G,IAAIc,GAAJ,EAAWC,KAAKf,GAAL,CAASA,IAAIc,GAAJ,CAAT,CAAmB7H,KAAnB,CACZ,CAED,GAAG,CAACgH,IAAIa,GAAJ,CAAD,EAAab,IAAIa,GAAJ,IAAa,CAA7B,CAAgC,CAC9Bb,IAAIa,GAAJ,EAAW7H,KACZ,CAFD,IAEO,CACLgH,IAAIa,GAAJ,EAAWC,KAAKd,GAAL,CAASA,IAAIa,GAAJ,CAAT,CAAmB7H,KAAnB,CACZ,CACF,CAzaK,CA2aNwB,kBAAmB,2BAASqB,CAAT,CAAY,CAE7B,GAAIE,QAAS/D,QAAQgE,GAAR,CAAYH,CAAZ,EAAeI,WAA5B,CACIC,KAAO,KAAKzC,mBAAL,CAAyBsC,OAAOI,WAAhC,CADX,CAIA,GAAGV,OAAOa,WAAP,CAAmByE,gBAAnB,iBAAoD7E,KAAKM,KAAzD,CAAkE,MAAlE,EAA0EnB,MAA1E,GAAqF,CAAxF,CAA2F,CACzFI,OAAOa,WAAP,CAAmBC,IAAnB,iBAAwCL,KAAKM,KAA7C,CACD,CACF,CApbK,CAsbNwE,kBAAmB,4BAAW,CAC5B,GAAG,KAAK3H,UAAL,EAAmB,KAAKD,SAAxB,EAAqC,KAAKD,SAA1C,EAAuD,KAAKF,QAA/D,CAAyE,CACvE,MAAO,KACR,CAFD,IAEO,CACL,MAAO,MACR,CACF,CA5bK,CA8bNgI,aAAc,uBAAW,CACvB,GAAG,CAAC,KAAK3H,UAAT,CAAqB,CACnB,MAAO,mBACR,CAFD,IAEO,CACL,MAAO,KACR,CACF,CApcK,CAscN4H,YAAa,sBAAW,CACtB,GAAG,KAAK5H,UAAR,CAAoB,CAClB,MAAO,iBACR,CAFD,IAEO,CACL,MAAO,iBACR,CACF,CA5cK,CA8cN0B,eAAgB,wBAASvC,IAAT,CAAe,CAE7B,GAAG,KAAK0B,YAAR,CAAsB,CACpB,KAAKJ,QAAL,CAAgB,KAAKoH,kBAAL,EACjB,CAED,GAAG1I,OAAS,QAAZ,CAAsB,CACpB,KAAK2I,mBAAL,EACD,CAFD,IAEO,IAAG3I,OAAS,WAAZ,CAAyB,CAC9B,KAAK4I,sBAAL,EACD,CACF,CAzdK,CA2dNF,mBAAoB,6BAAW,CAC7B,GAAI/F,IAAJ,CACIgC,OAAS,EADb,CAGAhC,IAAM,KAAKkG,aAAL,CAAmB,CAAnB,CAAsB,mBAAtB,CAA2C,OAA3C,CAAoD,EAApD,CAAwD,EAAxD,CAAN,CACAlG,IAAI6B,OAAJ,CAAYwB,MAAZ,CAAqB,IAArB,CACArD,IAAIG,eAAJ,CAAsB,IAAtB,CAEA6B,OAAOgC,IAAP,CAAYhE,GAAZ,EAGAA,IAAM,KAAKkG,aAAL,CAAmB,CAAnB,CAAsB,iBAAtB,CAAyC,OAAzC,CAAkD,EAAlD,CAAsD,EAAtD,CAAN,CACAlG,IAAI6B,OAAJ,CAAYwB,MAAZ,CAAqB,IAArB,CACArD,IAAIG,eAAJ,CAAsB,IAAtB,CAEA6B,OAAOgC,IAAP,CAAYhE,GAAZ,EAGAA,IAAM,KAAKkG,aAAL,CAAmB,CAAnB,CAAsB,6BAAtB,CAAqD,OAArD,CAA8D,EAA9D,CAAkE,EAAlE,CAAN,CACAlG,IAAI6B,OAAJ,CAAYwB,MAAZ,CAAqB,IAArB,CACArD,IAAIG,eAAJ,CAAsB,IAAtB,CAEA6B,OAAOgC,IAAP,CAAYhE,GAAZ,EAGAA,IAAM,KAAKkG,aAAL,CAAmB,CAAnB,CAAsB,cAAtB,CAAsC,OAAtC,CAA+C,EAA/C,CAAmD,EAAnD,CAAN,CACAlG,IAAI6B,OAAJ,CAAYwB,MAAZ,CAAqB,IAArB,CACArD,IAAIG,eAAJ,CAAsB,IAAtB,CAEA6B,OAAOgC,IAAP,CAAYhE,GAAZ,EAGAA,IAAM,KAAKkG,aAAL,CAAmB,CAAnB,CAAsB,cAAtB,CAAsC,OAAtC,CAA+C,EAA/C,CAAmD,EAAnD,CAAN,CACAlG,IAAI6B,OAAJ,CAAYwB,MAAZ,CAAqB,IAArB,CACArD,IAAIG,eAAJ,CAAsB,IAAtB,CAEA6B,OAAOgC,IAAP,CAAYhE,GAAZ,EAEA,MAAOgC,OACR,CAlgBK,CAogBNiE,uBAAwB,iCAAW,CACjC,GAAIjG,IAAJ,CAEAA,IAAM,KAAKkG,aAAL,CAAmB,EAAnB,CAAuB,mBAAvB,CAA4C,OAA5C,CAAqD,oBAArD,CAA2E,4EAA3E,CAAN,CACAlG,IAAI6B,OAAJ,CAAYwB,MAAZ,CAAqB,IAArB,CACArD,IAAI6B,OAAJ,CAAYsE,UAAZ,CAAyB,IAAzB,CAEA,KAAKxH,QAAL,CAAcqF,IAAd,CAAmBhE,GAAnB,EAGAA,IAAM,KAAKkG,aAAL,CAAmB,EAAnB,CAAuB,iBAAvB,CAA0C,OAA1C,CAAmD,oBAAnD,CAAyE,oEAAzE,CAAN,CACAlG,IAAI6B,OAAJ,CAAYwB,MAAZ,CAAqB,IAArB,CAEA,KAAK1E,QAAL,CAAcqF,IAAd,CAAmBhE,GAAnB,EAGAA,IAAM,KAAKkG,aAAL,CAAmB,EAAnB,CAAuB,6BAAvB,CAAsD,OAAtD,CAA+D,oBAA/D,CAAqF,sFAArF,CAAN,CACAlG,IAAI6B,OAAJ,CAAYwB,MAAZ,CAAqB,IAArB,CAEA,KAAK1E,QAAL,CAAcqF,IAAd,CAAmBhE,GAAnB,EAGAA,IAAM,KAAKkG,aAAL,CAAmB,EAAnB,CAAuB,cAAvB,CAAuC,OAAvC,CAAgD,uBAAhD,CAAyE,uEAAzE,CAAN,CACAlG,IAAI6B,OAAJ,CAAYwB,MAAZ,CAAqB,IAArB,CAEA,KAAK1E,QAAL,CAAcqF,IAAd,CAAmBhE,GAAnB,EAGAA,IAAM,KAAKkG,aAAL,CAAmB,EAAnB,CAAuB,cAAvB,CAAuC,QAAvC,CAAiD,uBAAjD,CAA0E,uEAA1E,CAAN,CACAlG,IAAI6B,OAAJ,CAAYwB,MAAZ,CAAqB,IAArB,CAEC,KAAK1E,QAAL,CAAcqF,IAAd,CAAmBhE,GAAnB,CACF,CApiBK,CAsiBNgG,oBAAqB,8BAAW,CAC9B,GAAIhG,IAAJ,CAEAA,IAAM,KAAKkG,aAAL,CAAmB,EAAnB,CAAuB,mBAAvB,CAA4C,OAA5C,CAAqD,mBAArD,CAA0E,2EAA1E,CAAN,CACAlG,IAAI6B,OAAJ,CAAYwB,MAAZ,CAAqB,IAArB,CAEA,KAAK1E,QAAL,CAAcqF,IAAd,CAAmBhE,GAAnB,EAGAA,IAAM,KAAKkG,aAAL,CAAmB,EAAnB,CAAuB,mBAAvB,CAA4C,OAA5C,CAAqD,oBAArD,CAA2E,wEAA3E,CAAN,CACA,KAAKvH,QAAL,CAAcqF,IAAd,CAAmBhE,GAAnB,EAGAA,IAAM,KAAKkG,aAAL,CAAmB,CAAnB,CAAsB,mBAAtB,CAA2C,cAA3C,CAA2D,iBAA3D,CAA8E,yEAA9E,CAAN,CACAlG,IAAI6B,OAAJ,CAAYwB,MAAZ,CAAqB,IAArB,CAEA,KAAK1E,QAAL,CAAcqF,IAAd,CAAmBhE,GAAnB,EAGAA,IAAM,KAAKkG,aAAL,CAAmB,EAAnB,CAAuB,mBAAvB,CAA4C,cAA5C,CAA4D,oBAA5D,CAAkF,4EAAlF,CAAN,CACAlG,IAAI6B,OAAJ,CAAYwB,MAAZ,CAAqB,IAArB,CAEA,KAAK1E,QAAL,CAAcqF,IAAd,CAAmBhE,GAAnB,EAGAA,IAAM,KAAKkG,aAAL,CAAmB,CAAnB,CAAsB,mBAAtB,CAA2C,OAA3C,CAAoD,oBAApD,CAA0E,4EAA1E,CAAN,CACAlG,IAAI6B,OAAJ,CAAYwB,MAAZ,CAAqB,IAArB,CAEA,KAAK1E,QAAL,CAAcqF,IAAd,CAAmBhE,GAAnB,CACD,CAnkBK,CAqkBNkG,cAAe,uBAASE,MAAT,CAAiB/I,IAAjB,CAAuBgJ,IAAvB,CAA6Bd,KAA7B,CAAoCC,WAApC,CAAiD,CAE9D,GAAI9C,KAAJ,CACI1C,GADJ,CAEA,GAAGqG,OAAS,OAAZ,CAAqB,CACnB3D,KAAO,KAAK7E,QACb,CAFD,IAEO,IAAGwI,OAAS,QAAZ,CAAsB,CAC3B3D,KAAO,KAAK3E,SACb,CAFM,IAEA,IAAGsI,OAAS,cAAZ,CAA4B,CACjC3D,KAAO,KAAK1E,SACb,CAFM,IAEA,CACL0E,KAAO,KAAKzE,UACb,CAED+B,IAAM,CACJ+B,eAAgBqE,MADZ,CAEJ3D,UAAWpF,IAFP,CAGJ,OAAQqF,IAHJ,CAIJ6C,MAAOA,KAJH,CAKJC,YAAaA,WALT,CAMJ3D,QAAS,KAAKD,aANV,CAAN,CASA,GAAGvE,OAAS,cAAT,EAA2BA,OAAS,cAAvC,CAAuD,CACrD2C,IAAI6B,OAAJ,CAAYyE,aAAZ,CAA4B,IAC7B,CAED,MAAOtG,IACR,CAjmBK,CAmmBNuG,eAAgB,yBAAW,CACzB,GAAG,KAAKzH,WAAR,CAAqB,CACnB,MAAO,8BACR,CAED,GAAG,KAAKH,QAAL,EAAiB,KAAKA,QAAL,CAAcsB,MAAlC,CAA0C,CACxC,MAAO,gBAAkB,KAAK3B,kBAAvB,CAA4C,MAA5C,CAAqD,KAAKK,QAAL,CAAcsB,MAC3E,CACF,CA3mBK,CA6mBNuG,eAAgB,wBAASC,OAAT,CAAkB,CAEhC,GAAIC,gBAAiB5I,OAAOiH,IAAP,CAAY0B,QAAQ,CAAR,CAAZ,EAAwBxG,MAA7C,CACA,GAAGwG,QAAQxG,MAAR,GAAmB,IAAtB,CAA4B,CAE1B,GAAGyG,iBAAmB,CAAtB,CAAyB,CACvB,MAAO,OACR,CAFD,IAEO,IAAGA,iBAAmB,EAAtB,CAA0B,CAC/B,MAAO,cACR,CAFM,IAEA,CACL,MAAO,SACR,CACF,CATD,IASO,IAAGD,QAAQxG,MAAR,GAAmB,KAAtB,CAA6B,CAClC,GAAGyG,iBAAmB,CAAtB,CAAyB,CACvB,MAAO,QACR,CAFD,IAEO,IAAGA,iBAAmB,EAAtB,CAA0B,CAC/B,MAAO,OACR,CAFM,IAEA,CACL,MAAO,SACR,CACF,CARM,IAQA,CACL,MAAO,SACR,CACF,CApoBK,CAAR,CAsoBD,CAzoBD","file":"px-vis-benchmark.js","sourcesContent":["(function() {\n  'use strict';\n\n  Polymer({\n    /* Name for the component */\n    is: 'px-vis-benchmark',\n\n    /* Behaviors to import for this component */\n    behaviors: [\n      PxVisBehaviorDemo.chartGenerator,\n      PxVisBehaviorDemo.timings,\n      PxVisBehaviorDemo.propertyWatch\n    ],\n\n    /* Properties for this component */\n    properties: {\n      _drawingListener: {\n        type: Function\n      },\n      perfResult: {\n        type: Array,\n        notify: true\n      },\n      dataRootPath: {\n        type: String,\n        value: 'benchmark_data/'\n      },\n      data4x1k: {\n        type: Object\n      },\n      data4x10k: {\n        type: Object\n      },\n      data40x1k: {\n        type: Object\n      },\n      data40x10k: {\n        type: Object\n      },\n      _dataReady: {\n        type: Boolean,\n        computed: '_computeDataReady(data4x1k, data4x10k, data40x1k, data40x10k)'\n      },\n      _currentPerfMeasure: {\n        type: Object\n      },\n      _currentBenchIndex: {\n        type: Number,\n        value: 0\n      },\n      _isPolymer1: {\n        type: Boolean\n      },\n      reportData: {\n        type: Array,\n        value: function() {\n          return [];\n        },\n        notify: true\n      },\n      hasResults: {\n        type: Boolean,\n        value: false,\n        notify: true\n      },\n      contexts: {\n        type: Array\n      },\n      _status: {\n        type: String,\n        computed: '_computeStatus(_currentBenchIndex, contexts, _cleaningUp)'\n      },\n      isRunning: {\n        type: Boolean,\n        value: false,\n        notify: true\n      },\n      _cleaningUp: {\n        type: Boolean,\n        value: false,\n        notify: true\n      },\n      _buildWarmup: {\n        type: Boolean,\n        value: true\n      },\n      hideUi: {\n        type: Boolean,\n        value: false\n      }\n    },\n\n    ready: function() {\n      this._drawingListener = this._drawingListen.bind(this);\n      this._renderingStarted = this._renderingStarted.bind(this);\n      this.set('_isPolymer1', !Polymer.Element);\n      if(this._isPolymer1) {\n        Polymer.Base.importHref(Polymer.ResolveUrl.resolveUrl('bower_components/chimera-table/px-data-table.html',''))\n      } else {\n        Polymer.importHref(Polymer.ResolveUrl.resolveUrl('bower_components/chimera-table/px-data-grid.html',''))\n      }\n    },\n\n    _startFullTS: function() {\n      this.contexts = [];\n      this._buildContexts('fullTS');\n      this._start();\n    },\n\n    _startAllCharts: function() {\n      this.contexts = [];\n      this._buildContexts('allCharts');\n      this._start();\n    },\n\n    _start: function() {\n\n      this.set('hasResults', false);\n      this.set('isRunning', true);\n      this.perfResult = [];\n      this._currentBenchIndex = 0;\n\n      this._scheduleNextLoop();\n    },\n\n    _scheduleNextLoop: function() {\n\n      var ctx;\n\n      if(this._currentBenchIndex < this.contexts.length) {\n\n        var timeout;\n        ctx = this.contexts[this._currentBenchIndex];\n\n        if(this._currentBenchIndex === 0 || ctx.disableMeasures) {\n          timeout = 0;\n        } else {\n          timeout = ctx.cleaningTimeout || ctx.cleaningTimeout === 0 ? ctx.cleaningTimeout : 1000;\n        }\n\n        this._currentBenchIndex++;\n\n        if(timeout) {\n          this._cleaningUp = true;\n        }\n        //give some time for cleanup\n        window.setTimeout(function() {\n          this._cleaningUp = false;\n          this._runOneBenchmark(ctx);\n        }.bind(this), timeout);\n      } else {\n        //DONE\n        this._buildReportData();\n        this.set('hasResults', true);\n        this.set('isRunning', false);\n      }\n    },\n\n    _drawingListen: function(e) {\n      this._drawingCounter++;\n\n      var target = Polymer.dom(e).localTarget,\n          perf = this._currentPerfMeasure[target.benchmarkId];\n\n      if(perf) {\n\n        perf.counter++;\n        if(perf.counter%this._drawingMultiplier === 0) {\n          window.performance.mark(`endDrawing_${perf.index}`);\n          console.log(`chart ${perf.index} finished drawing`);\n          this._removeTimingListeners(target);\n        }\n      }\n\n\n\n      //END\n      if(this._drawingCounter%(this._drawingMultiplier*Number(this._drawingNumberOfCharts)) === 0) {\n\n        window.performance.mark('endLoop');\n\n        this._processPerfTimings();\n        this._endLoop();\n\n        console.log('End loop');\n      }\n    },\n\n    _runOneBenchmark: function(ctx) {\n\n      window.performance.clearMarks();\n      this._chartOptions = ctx.options;\n      this._currentPerfMeasure = {};\n      this._currentPerfMeasure.loopInfo = {};\n      this._currentPerfMeasure.loopInfo.ctx = ctx;\n      this._currentPerfMeasure.loopInfo.options = this._chartOptions;\n      this._currentPerfMeasure.loopInfo.numberOfCharts = ctx.numberOfCharts;\n\n      var result = {\n            context: ctx\n          },\n          currentChart,\n          newDiv,\n          fragment = document.createElement('div'),\n          extents;\n\n      this._initializeDrawingMeasures(ctx.chartType, ctx.numberOfCharts, ctx.data.data);\n\n      window.performance.mark(`startLoop`);\n      for(var i=0; i<ctx.numberOfCharts; i++) {\n\n        newDiv = document.createElement('div');\n        newDiv.style['height'] = '500px';\n\n        currentChart = this._createNewChart(ctx, i);\n\n        //append chart in div\n        Polymer.dom(newDiv).appendChild(currentChart);\n        Polymer.dom(fragment).appendChild(newDiv);\n      }\n\n      window.performance.mark('before_append');\n      this.$.chartHolder.appendChild(fragment);\n      window.performance.mark('after_append');\n    },\n\n    _createNewChart: function(ctx, index) {\n      var currentChart,\n          extents;\n\n      if(ctx.chartType === 'px-vis-xy-chart') {\n        extents = {\n          x: [0, ctx.data.data.length-1],\n          y: ctx.data.extents.y\n        }\n      } else {\n        extents = ctx.data.extents;\n      }\n\n      window.performance.mark(`creation_${index}`);\n      currentChart = document.createElement(ctx.chartType);\n\n      //setup listeners for timing...\n      this._addTimingEventListener(currentChart);\n\n      currentChart.benchmarkId = index;\n      this._currentPerfMeasure[index] = {\n        renderType: this._chartOptions.canvas ? 'canvas' : 'svg',\n        chartType: ctx.chartType,\n        counter: 0,\n        index: index\n      }\n\n      this._processChartCreation(currentChart, extents, ctx.data.data);\n      window.performance.mark(`creationEnd_${index}`);\n\n      return currentChart;\n    },\n\n    _addTimingEventListener: function(chart) {\n\n      this._propertiesTimed = [];\n      if(chart.nodeName === 'PX-VIS-PARALLEL-COORDINATES' || chart.nodeName === 'PX-VIS-RADAR') {\n        this._addPropertyWatcher(chart, 'dimensions');\n      } else {\n\n      }\n\n      this._addPropertyWatcher(chart, 'x');\n      this._addPropertyWatcher(chart, 'y');\n      this._addPropertyWatcher(chart, 'domainChanged');\n      chart.addEventListener('px-vis-scatter-rendering-ended', this._drawingListener);\n      chart.addEventListener('px-vis-line-svg-rendering-ended', this._drawingListener);\n      chart.addEventListener('px-vis-chart-canvas-rendering-ended', this._drawingListener);\n      chart.addEventListener('px-vis-chart-canvas-rendering-started', this._renderingStarted);\n    },\n\n    _removeTimingListeners: function(chart) {\n      chart.removeEventListener('px-vis-scatter-rendering-ended', this._drawingListener);\n      chart.removeEventListener('px-vis-line-svg-rendering-ended', this._drawingListener);\n      chart.removeEventListener('px-vis-chart-canvas-rendering-ended', this._drawingListener);\n      chart.removeEventListener('px-vis-chart-canvas-rendering-started', this._renderingStarted);\n    },\n\n    _endLoop: function() {\n\n      window.setTimeout(function(){\n\n        //remove all\n        var myNode = this.$.chartHolder;\n        while (myNode.firstChild) {\n            myNode.removeChild(myNode.firstChild);\n        };\n\n        if(!this._currentPerfMeasure.loopInfo.ctx.disableMeasures) {\n          this.perfResult.push(this._currentPerfMeasure);\n        }\n\n        this._scheduleNextLoop();\n      }.bind(this), 100);\n    },\n\n    _processPerfTimings: function() {\n\n      var perf;\n\n      for(var i=0; i<this._currentPerfMeasure.loopInfo.numberOfCharts; i++) {\n        perf = this._currentPerfMeasure[i];\n        perf.timings = {};\n\n        perf.timings['creation'] = this._measureTiming('creation', `creation_${perf.index}`, `creationEnd_${perf.index}`)\n\n        //svg doesn't have a \"start rendering\" event, so we can only measure this for canvas\n        if(perf.renderType === 'canvas') {\n\n          //special case: we want the first  occurence of 'start' and last of 'stop' for TS\n          //navigator case\n          perf.timings['drawing'] = this._measureTiming('drawing', `startDrawing_${perf.index}`, `endDrawing_${perf.index}`)\n        }\n\n        perf.timings['total'] = this._measureTiming('total', `before_append`, `endDrawing_${perf.index}`)\n\n        this._processPropertiesTiming(perf.index, perf);\n      }\n\n      this._currentPerfMeasure.total = this._measureTiming('total', 'startLoop', 'endLoop');\n    },\n\n    _buildReportData: function() {\n\n      var tableData,\n          reportData = [],\n          currentReportData,\n          current,\n          keys1,\n          keys2,\n          pair,\n          average,\n          min,\n          max,\n          val;\n\n      for(var p=0; p<this.perfResult.length; p++) {\n\n        tableData = [];\n        keys1 = Object.keys(this.perfResult[p]);\n        average = { 'name': 'Average'};\n        min = { 'name': 'min'};\n        max = { 'name': 'max'};\n\n        for(var i=0; i<keys1.length; i++) {\n          pair = [keys1[i], this.perfResult[p][keys1[i]]];\n          current = {\n            'name': 'Chart' + i\n          };\n\n          //look at each individual chart result\n          if(pair[0] !== 'loopInfo' && pair[0] !== 'total') {\n\n            //build timings\n            keys2 = Object.keys(pair[1].timings);\n            for(var j=0; j<keys2.length; j++) {\n              val = parseFloat(pair[1].timings[keys2[j]]).toFixed(1);\n              current[keys2[j]] = val;\n              this._buildStats(average, min, max, keys2[j], val);\n            }\n\n            //build properties info\n            keys2 = Object.keys(pair[1].properties);\n            for(var j=0; j<keys2.length; j++) {\n              val = parseFloat(pair[1].properties[keys2[j]].duration).toFixed(1)\n              current[keys2[j]] = val;\n              this._buildStats(average, min, max, keys2[j], val);\n\n              val = pair[1].properties[keys2[j]].count;\n              current[keys2[j] + ' (count)'] = val;\n              this._buildStats(average, min, max, keys2[j] + ' (count)', val);\n            }\n\n            tableData.push(current);\n          }\n\n        }\n\n        //add average min and max stats\n        keys2 = Object.keys(average);\n        for(var j=0; j<keys2.length; j++) {\n          if(keys2[j] !== 'name') {\n            average[keys2[j]] = (average[keys2[j]]/tableData.length).toFixed(1);\n          }\n        }\n        tableData.unshift(max);\n        tableData.unshift(min);\n        tableData.unshift(average);\n\n        currentReportData = {\n          'tableData': tableData,\n          'title': this.perfResult[p].loopInfo.ctx.title,\n          'description': this.perfResult[p].loopInfo.ctx.description,\n          'total': this.perfResult[p].total.toFixed(1),\n          'average': (this.perfResult[p].total/this.perfResult[p].loopInfo.numberOfCharts).toFixed(1)\n        };\n\n        reportData.push(currentReportData);\n      }\n\n      this.set('reportData', reportData);\n    },\n\n    _buildStats: function(average, min, max, key, value) {\n\n      if(!average[key] && average[key] !== 0) {\n        average[key] = parseFloat(value);\n      } else {\n        average[key] += parseFloat(value);\n      }\n\n      if(!min[key] && min[key] !== 0) {\n        min[key] = value;\n      } else {\n        min[key] = Math.min(min[key], value);\n      }\n\n      if(!max[key] && max[key] !== 0) {\n        max[key] = value;\n      } else {\n        max[key] = Math.max(max[key], value);\n      }\n    },\n\n    _renderingStarted: function(e) {\n\n      var target = Polymer.dom(e).localTarget,\n          perf = this._currentPerfMeasure[target.benchmarkId];\n\n      //we only want the first start of render in case several comp render (i.e TS + navigator)\n      if(window.performance.getEntriesByName(`startDrawing_${perf.index}`, 'mark').length === 0) {\n        window.performance.mark(`startDrawing_${perf.index}`);\n      }\n    },\n\n    _computeDataReady: function() {\n      if(this.data40x10k && this.data40x1k && this.data4x10k && this.data4x1k) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n\n    _buttonClass: function() {\n      if(!this._dataReady) {\n        return 'btn btn--disabled'\n      } else {\n        return 'btn';\n      }\n    },\n\n    _buttonText: function() {\n      if(this._dataReady) {\n        return 'Start benchmark';\n      } else {\n        return 'Loading data...';\n      }\n    },\n\n    _buildContexts: function(type) {\n\n      if(this._buildWarmup) {\n        this.contexts = this.buildWarmupContext();\n      }\n\n      if(type === 'fullTS') {\n        this._buildFullTSContext();\n      } else if(type === 'allCharts') {\n        this._buildAllChartsContext();\n      }\n    },\n\n    buildWarmupContext: function() {\n      var ctx,\n          result = [];\n      //canvas small\n      ctx = this.createContext(1, 'px-vis-timeseries', 'small', '', '');\n      ctx.options.canvas = true;\n      ctx.disableMeasures = true;\n\n      result.push(ctx);\n\n      //svg small\n      ctx = this.createContext(1, 'px-vis-xy-chart', 'small', '', '');\n      ctx.options.canvas = true;\n      ctx.disableMeasures = true;\n\n      result.push(ctx);\n\n      //svg medium series\n      ctx = this.createContext(1, 'px-vis-parallel-coordinates', 'small', '', '');\n      ctx.options.canvas = true;\n      ctx.disableMeasures = true;\n\n      result.push(ctx);\n\n      //canvas medium series (same total amount of points as medium but with 40 series)\n      ctx = this.createContext(1, 'px-vis-radar', 'small', '', '');\n      ctx.options.canvas = true;\n      ctx.disableMeasures = true;\n\n      result.push(ctx);\n\n      //canvas large\n      ctx = this.createContext(1, 'px-vis-polar', 'small', '', '');\n      ctx.options.canvas = true;\n      ctx.disableMeasures = true;\n\n      result.push(ctx);\n\n      return result;\n    },\n\n    _buildAllChartsContext: function() {\n      var ctx;\n      // canvas small\n      ctx = this.createContext(10, 'px-vis-timeseries', 'large', '10 TS canvas 4x10k', '10 timeseries chart rendering on canvas. 4 series, 10000 points per series');\n      ctx.options.canvas = true;\n      ctx.options.disableNav = true;\n\n      this.contexts.push(ctx);\n\n      //svg small\n      ctx = this.createContext(10, 'px-vis-xy-chart', 'large', '10 XY canvas 4x10k', '10 XY chart rendering on canvas. 4 series, 10000 points per series');\n      ctx.options.canvas = true;\n\n      this.contexts.push(ctx);\n\n      //svg medium series\n      ctx = this.createContext(10, 'px-vis-parallel-coordinates', 'large', '10 // canvas 4x10k', '10 parallel coordinates chart rendering on canvas. 4 series, 10000 points per series');\n      ctx.options.canvas = true;\n\n      this.contexts.push(ctx);\n\n      //canvas medium series (same total amount of points as medium but with 40 series)\n      ctx = this.createContext(10, 'px-vis-radar', 'large', '10 radar canvas 4x10k', '10 radar chart rendering on canvas. 4 series, 10000 points per series');\n      ctx.options.canvas = true;\n\n      this.contexts.push(ctx);\n\n      //canvas large\n      ctx = this.createContext(10, 'px-vis-polar', 'medium', '10 polar canvas 4x10k', '10 polar chart rendering on canvas. 4 series, 10000 points per series');\n      ctx.options.canvas = true;\n\n       this.contexts.push(ctx);\n    },\n\n    _buildFullTSContext: function() {\n      var ctx;\n      // canvas small\n      ctx = this.createContext(10, 'px-vis-timeseries', 'small', '10 TS canvas 4x1k', '10 timeseries chart rendering on canvas. 4 series, 1000 points per series');\n      ctx.options.canvas = true;\n\n      this.contexts.push(ctx);\n\n      //svg small\n      ctx = this.createContext(10, 'px-vis-timeseries', 'small', '10 SVG canvas 4x1k', '10 timeseries chart rendering on svg. 4 series, 1000 points per series');\n      this.contexts.push(ctx);\n\n      //svg medium series\n      ctx = this.createContext(1, 'px-vis-timeseries', 'mediumSeries', '10 TS SVG 40x1k', '10 timeseries chart rendering on svg. 40 series, 1000 points per series');\n      ctx.options.canvas = true;\n\n      this.contexts.push(ctx);\n\n      //canvas medium series (same total amount of points as medium but with 40 series)\n      ctx = this.createContext(10, 'px-vis-timeseries', 'mediumSeries', '10 TS canvas 40x1k', '10 timeseries chart rendering on canvas. 40 series, 1000 points per series');\n      ctx.options.canvas = true;\n\n      this.contexts.push(ctx);\n\n      //canvas large\n      ctx = this.createContext(5, 'px-vis-timeseries', 'large', '5 TS canvas 40x10k', '5 timeseries chart rendering on canvas. 40 series, 10000 points per series');\n      ctx.options.canvas = true;\n\n      this.contexts.push(ctx);\n    },\n\n    createContext: function(number, type, size, title, description) {\n\n      var data,\n          ctx;\n      if(size === 'small') {\n        data = this.data4x1k;\n      } else if(size === 'medium') {\n        data = this.data4x10k;\n      } else if(size === 'mediumSeries') {\n        data = this.data40x1k;\n      } else {\n        data = this.data40x10k;\n      }\n\n      ctx = {\n        numberOfCharts: number,\n        chartType: type,\n        'data': data,\n        title: title,\n        description: description,\n        options: this._chartOptions\n      }\n\n      if(type === 'px-vis-radar' || type === 'px-vis-polar') {\n        ctx.options.preventResize = true;\n      }\n\n      return ctx;\n    },\n\n    _computeStatus: function() {\n      if(this._cleaningUp) {\n        return 'cleaning up between loops...';\n      }\n\n      if(this.contexts && this.contexts.length) {\n        return 'Running loop ' + this._currentBenchIndex + ' of ' + this.contexts.length;\n      }\n    },\n\n    getDatasetSize: function(dataset) {\n\n      var numberOfSeries = Object.keys(dataset[0]).length;\n      if(dataset.length === 1000) {\n\n        if(numberOfSeries === 6) {\n          return 'small';\n        } else if(numberOfSeries === 42) {\n          return 'mediumSeries';\n        } else {\n          return 'unknown';\n        }\n      } else if(dataset.length === 10000) {\n        if(numberOfSeries === 6) {\n          return 'medium';\n        } else if(numberOfSeries === 42) {\n          return 'large';\n        } else {\n          return 'unknown';\n        }\n      } else {\n        return 'unknown';\n      }\n    }\n  });\n})();\n"]}